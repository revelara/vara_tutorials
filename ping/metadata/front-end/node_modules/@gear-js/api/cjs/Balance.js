'use strict';

var Transaction = require('./Transaction.js');

class GearBalance extends Transaction.GearTransaction {
    async findOut(publicKey) {
        const { data: balance } = (await this._api.query.system.account(publicKey));
        return this._api.createType('Balance', balance.free);
    }
    transfer(to, value, keepAlive = true) {
        this.extrinsic = this._api.tx.balances[keepAlive ? 'transferKeepAlive' : 'transferAllowDeath'](to, value);
        return this.extrinsic;
    }
}

exports.GearBalance = GearBalance;
